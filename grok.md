Подробное описание компании DNS
Оглавление

Часть 1: Описание компании и технической инфраструктуры
1. Обзор компании
2. Нагрузка на проект
3. Технологический стек
4. Диаграмма верхнеуровневой архитектуры
5. Текстовое описание архитектуры системы


Часть 2: Рабочие процессы и методологии
6. Процесс устройства на работу и онбординга
7. Инструменты для коммуникации и управления проектами
8. Методология разработки
9. Git Flow в команде


Часть 3: Проекты и достижения
10. Типичные ежедневные задачи
11. Ключевые проекты или достижения
12. Взаимодействие с другими командами



Часть 1: Описание компании и технической инфраструктуры
1. Обзор компании

Название: DNS (Digital Network System).
Основная деятельность: Розничная торговля компьютерами, электроникой и бытовой техникой. Также производит собственные устройства (ноутбуки, планшеты, смартфоны) под брендами DEXP и Ardor (DNS Retail).
Ассортимент: Компьютеры, ноутбуки, смартфоны, телевизоры, бытовая техника, аксессуары.
Масштаб операций: Более 2000 магазинов в России и Казахстане. В 2019 году — 6-е место среди ритейлеров России, в 2021 — 22-е среди частных компаний. Штаб-квартира во Владивостоке.
Структура IT-отдела: Точных данных нет, но для такого масштаба предполагается отдел из сотен специалистов, разделённый на команды разработки, поддержки, безопасности, DevOps и аналитики.

2. Нагрузка на проект



Метрика
Значение



Количество активных пользователей
10 миллионов


Количество просмотров страниц в день
50 миллионов


Количество заказов в день
500 000


Read/Write соотношение
100:1


Количество запросов в секунду (RPS) для чтения/записи
10 000 / 100


Объём хранимых данных
5 ПБ


Ежедневный объём генерируемых данных
500 ГБ


3. Технологический стек

Основные технологии:
Golang: Для высокопроизводительных сервисов.
Redis: Кэширование данных каталога и корзины.
Kafka: Асинхронная обработка заказов и обновлений.
PostgreSQL: Основная база данных с миграциями через gomigrate.
ELK Stack: Логирование.
Prometheus/Grafana: Мониторинг.
Jaeger: Трассировка запросов.


Инфраструктура:
API Gateway: Управление внешними запросами.
Load Balancer: Распределение нагрузки.
Nginx: Веб-сервер.
Docker/Kubernetes: Контейнеризация и оркестрация.


Архитектурные паттерны:
Микросервисы для разделения функционала.
gRPC для внутреннего взаимодействия.
Шардирование и репликация баз данных для масштабирования.


Дополнительно: RabbitMQ (для очередей), Elasticsearch (поиск), Cassandra (хранение больших данных).

4. Диаграмма верхнеуровневой архитектуры
   graph TB
   C[Клиенты] --> LB[Load Balancer]
   subgraph Слой презентации
   LB
   AG[API Gateway]
   LB --> AG
   end
   subgraph Слой микросервисов
   US[User Service]
   PR[Product Service]
   OR[Order Service]
   PY[Payment Service]
   SH[Shipping Service]
   AG --> US
   AG --> PR
   AG --> OR
   AG --> PY
   AG --> SH
   end
   subgraph Слой данных
   PG[PostgreSQL]
   RD[Redis]
   US --> PG
   PR --> PG
   OR --> PG
   PY --> PG
   SH --> PG
   US --> RD
   PR --> RD
   OR --> RD
   PY --> RD
   SH --> RD
   end
   subgraph Слой очередей сообщений и логирования
   KF[Kafka]
   ELK[ELK Stack]
   OR --> KF
   SH --> KF
   US --> ELK
   PR --> ELK
   OR --> ELK
   PY --> ELK
   SH --> ELK
   end
   subgraph Слой мониторинга и трассировки
   PM[Prometheus]
   GF[Grafana]
   JG[Jaeger]
   US --> PM
   PR --> PM
   OR --> PM
   PY --> PM
   SH --> PM
   PM --> GF
   US --> JG
   PR --> JG
   OR --> JG
   PY --> JG
   SH --> JG
   end

5. Текстовое описание архитектуры системы

Микросервисы: Каждый сервис на Golang отвечает за свою задачу: User — за пользователями, Product — за товарами, Order — за заказами, Payment — за платежами, Shipping — за доставкой.
Базы данных: PostgreSQL с шардированием для масштабирования и репликацией для отказоустойчивости. Redis кэширует горячие данные.
Очереди: Kafka обеспечивает асинхронность для заказов, уведомлений, синхронизации складов.
Интеграции: Платёжные системы (Stripe, PayPal), логистика (DHL, UPS), аналитика (Google Analytics).

Часть 2: Рабочие процессы и методологии
6. Процесс устройства на работу и онбординга

Этапы собеседования:
Скрининг: 30 минут, проверка резюме и мотивации.
Техническое интервью: 1-2 часа, задачи на Golang, архитектуру, базы.
Финальное собеседование: 1 час, культурный фит с менеджерами.


Процесс онбординга: 2-4 недели. Введение в процессы, обучение стеку, ментор, мелкие задачи.

7. Инструменты для коммуникации и управления проектами

Инструменты: Jira (задачи), Confluence (документация), Slack/Telegram (общение).
Ежедневные созвоны: 15 минут утром, вся команда, прогресс и блокеры.
Код-ревью: Перед мержем PR, проверяют качество, читаемость, тесты. Длительность — 1-2 дня.

8. Методология разработки

Подход: Scrum с элементами Kanban.
Регулярные встречи:
Daily: 15 минут.
Sprint planning: 2 часа.
Retrospective: 1 час.


Практики: CI/CD через GitLab, автотесты, парное программирование для сложных задач, документация в Confluence.

9. Git Flow в команде

Основные ветки: main (прод), develop (интеграция), feature (фичи), release (релизы), hotfix (фиксы).
Правила именования: feature/order-cancel, release/v1.2.3, hotfix/bugfix-payment.
Процесс PR: Feature -> develop, ревью, мерж.
Шаги код-ревью: Проверка стандартов, функционала, тестов.
Примеры Git команд:
Новая ветка: git checkout -b feature/order-cancel develop
Мерж: git merge --no-ff feature/order-cancel



Часть 3: Проекты и достижения
10. Типичные ежедневные задачи



Задача
Описание
Время
Сложности



Новый эндпоинт
Добавить API для отмены заказов
4-6 часов
Идемпотентность, состояния заказа


Оптимизация БД
Ускорить запросы к каталогу
2-4 часа
Индексы, JOIN'ы


Тесты
Unit- и integration-тесты
3-5 часов
Краевые случаи, моки


Отладка
Фикс багов в проде (платежи)
Часы-день
Логи, воспроизведение


Код-ревью
Проверка PR коллеги
1-2 часа
Обратная связь, стандарты


11. Ключевые проекты или достижения



Проект
Описание
Роль
Технологии
Влияние



Миграция на микросервисы
Распил монолита
Руководитель, разработчик
Golang, Docker, Kubernetes
Масштабируемость, деплой быстрее


Оптимизация заказов
Асинхронка через Kafka
Разработчик
Golang, Kafka
Время обработки -20%


Склад
Синхронизация через Kafka
Разработчик
Golang, Kafka
Точность инвентаря 99%


Рефакторинг API
Переписка на Gin
Разработчик
Golang, Gin
Время ответа -30%


Бонусная система
Стабильность в пики
Разработчик
Golang, Redis
Ошибки -50%


12. Взаимодействие с другими командами

DevOps: Настройка CI/CD, деплой, мониторинг. Пример: деплой без даунтайма.
QA: Автотесты, покрытие +15%. Пример: тесты для заказов.
Аналитики: Требования, оптимизация. Пример: средний чек +10%.
Менеджеры: Приоритеты, конфликты. Пример: запуск чекаута, отказы -20%.


Ключевые цитаты

DNS Retail Company Overview
DNS Shop Revenue

