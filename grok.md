Подробное описание компании DNS
Часть 1: Описание компании и технической инфраструктуры
1. Обзор компании

Название: DNS (Digital Network System).
Основная деятельность: Розничная торговля компьютерами, электроникой и бытовой техникой. Также производит собственные устройства (ноутбуки, планшеты, смартфоны) под брендами DEXP и Ardor (DNS Retail).
Ассортимент: Компьютеры, ноутбуки, смартфоны, телевизоры, бытовая техника, аксессуары.
Масштаб операций: Более 2000 магазинов в России и Казахстане. В 2019 году — 6-е место среди ритейлеров России, в 2021 — 22-е среди частных компаний. Штаб-квартира во Владивостоке.
Структура IT-отдела: Точных данных нет, но для такого масштаба предполагается отдел из сотен специалистов, разделённый на команды разработки, поддержки, безопасности, DevOps и аналитики.

2. Нагрузка на проект



Метрика
Значение



Активные пользователи
10 миллионов


Просмотры страниц в день
50 миллионов


Заказы в день
500 000


Read/Write соотношение
100:1


RPS (чтение/запись)
10 000 / 100


Объём хранимых данных
5 ПБ


Ежедневный объём данных
500 ГБ


Эти цифры основаны на типичных нагрузках для крупного e-commerce, учитывая пиковые распродажи.
3. Технологический стек

Основные технологии:
Golang: Для высокопроизводительных сервисов.
Redis: Кэширование данных каталога и корзины.
Kafka: Асинхронная обработка заказов и обновлений.
PostgreSQL: Основная база данных с миграциями через gomigrate.
ELK Stack: Логирование.
Prometheus/Grafana: Мониторинг.
Jaeger: Трассировка запросов.


Инфраструктура:
API Gateway: Управление внешними запросами.
Load Balancer: Распределение нагрузки.
Nginx: Веб-сервер.
Docker/Kubernetes: Контейнеризация и оркестрация.


Архитектурные паттерны:
Микросервисы для разделения функционала.
gRPC для внутреннего взаимодействия.
Шардирование и репликация баз данных для масштабирования.


Дополнительно: RabbitMQ (для очередей), Elasticsearch (поиск), Cassandra (хранение больших данных).

4. Архитектура системы
   Слой презентации:

API Gateway и Load Balancer для обработки внешних запросов.

Слой микросервисов:

User Service: Аутентификация, профили.
Product Service: Каталог, поиск товаров.
Order Service: Управление заказами.
Payment Service: Интеграция с платёжками.
Shipping Service: Логистика.

Слой данных:

PostgreSQL с шардированием и репликацией.
Redis для кэширования.

Слой очередей и логирования:

Kafka для асинхронных задач.
ELK Stack для логов.
Prometheus/Grafana для мониторинга.
Jaeger для трассировки.

Диаграмма (описание):API Gateway принимает запросы, распределяет их по микросервисам через Load Balancer. Сервисы общаются через REST/gRPC, данные хранятся в PostgreSQL и кэшируются в Redis. Kafka обрабатывает асинхронные задачи, логи идут в ELK, метрики — в Prometheus.
5. Текстовое описание архитектуры

Микросервисы: Каждый сервис на Golang отвечает за свою задачу: User — за юзеров, Product — за товары, Order — за заказы, Payment — за платежи, Shipping — за доставку.
Базы данных: PostgreSQL с шардированием для масштабирования и репликацией для отказоустойчивости. Redis кэширует горячие данные.
Очереди: Kafka обеспечивает асинхронку для заказов, уведомлений, синхронизации складов.
Интеграции: Платёжные системы (Stripe, PayPal), логистика (DHL, UPS), аналитика (Google Analytics).

Часть 2: Рабочие процессы и методологии
6. Процесс найма и онбординга

Собеседования:
Скрининг: 30 минут, проверка резюме и мотивации.
Техническое интервью: 1-2 часа, задачи на Golang, архитектуру, базы.
Финальное: 1 час, культурный фит с менеджерами.


Онбординг: 2-4 недели. Введение в процессы, обучение стеку, ментор, мелкие задачи.

7. Инструменты и коммуникация

Инструменты: Jira (задачи), Confluence (доки), Slack/Telegram (общение).
Daily: 15 минут утром, вся команда, прогресс и блокеры.
Код-ревью: Перед мержем PR, проверяют качество, читаемость, тесты. Длительность — 1-2 дня.

8. Методология разработки

Подход: Scrum с элементами Kanban.
Встречи:
Daily: 15 минут.
Sprint planning: 2 часа.
Retrospective: 1 час.


Практики: CI/CD через GitLab, автотесты, парное программирование, документация в Confluence.

9. Git Flow

Ветки: main (прод), develop (интеграция), feature (фичи), release (релизы), hotfix (фиксы).
Именование: feature/order-cancel, release/v1.2.3, hotfix/bugfix-payment.
PR процесс: Feature -> develop, ревью, мерж.
Код-ревью: Проверка стандартов, функционала, тестов.
Git команды:
Новая ветка: git checkout -b feature/order-cancel develop
Мерж: git merge --no-ff feature/order-cancel



Часть 3: Проекты и достижения
10. Ежедневные задачи



Задача
Описание
Время
Сложности



Новый эндпоинт
Добавить API для отмены заказов
4-6 часов
Идемпотентность, состояния заказа


Оптимизация БД
Ускорить запросы к каталогу
2-4 часа
Индексы, JOIN'ы


Тесты
Unit- и integration-тесты
3-5 часов
Краевые случаи, моки


Отладка
Фикс багов в проде (платежи)
Часы-день
Логи, воспроизведение


Код-ревью
Проверка PR коллеги
1-2 часа
Обратная связь, стандарты


11. Ключевые проекты



Проект
Описание
Роль
Технологии
Влияние



Миграция на микросервисы
Распил монолита
Руководитель, разработчик
Golang, Docker, Kubernetes
Масштабируемость, деплой быстрее


Оптимизация заказов
Асинхронка через Kafka
Разработчик
Golang, Kafka
Время обработки -20%


Склад
Синхронизация через Kafka
Разработчик
Golang, Kafka
Точность инвентаря 99%


Рефакторинг API
Переписка на Gin
Разработчик
Golang, Gin
Время ответа -30%


Бонусная система
Стабильность в пики
Разработчик
Golang, Redis
Ошибки -50%


12. Взаимодействие с командами

DevOps: Настройка CI/CD, деплой, мониторинг. Пример: деплой без даунтайма.
QA: Автотесты, покрытие +15%. Пример: тесты для заказов.
Аналитики: Требования, оптимизация. Пример: средний чек +10%.
Менеджеры: Приоритеты, конфликты. Пример: запуск чекаута, отказы -20%.

